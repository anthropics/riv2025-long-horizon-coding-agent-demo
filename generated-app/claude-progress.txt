# Canopy - JIRA-like Project Management App

## Project Status: ✅ COMPLETE AND VERIFIED (Issue #20 - Calendar Feature - FINAL)

## Session Summary (December 2, 2025)
- Verified calendar feature is fully implemented and working
- All Playwright E2E tests pass for calendar tests (test-222, test-223, test-224)
- Screenshots captured showing working calendar with:
  - Monthly grid with day/week headers
  - Today button and prev/next month navigation
  - Status legend (Overdue, Due Today, Upcoming, Completed)
  - Stats display (items with due dates, overdue count, upcoming count)
  - Calendar link in sidebar under Planning section
- Build succeeds without errors
- No console errors

## Summary
Built a complete JIRA-like project management application called "Canopy" with:
- Pure static web app (no backend) using IndexedDB via Dexie.js
- React 18 + Vite 6 + Tailwind CSS v4 + React Router v7
- **Red color palette (#7B2332 primary ruby red, #E8A87C coral accent, #FAF7F7 background)**
- Space Grotesk for headers, DM Sans for body text

## Issue #20 - Calendar Feature (NEW)
Added a calendar view to visualize issues with due dates:

### New Files Created:
- src/pages/CalendarPage.tsx - Full calendar view with monthly grid, navigation, and due date visualization

### Files Modified:
- src/App.tsx - Added route for /project/:projectKey/calendar
- src/components/layout/Sidebar.tsx - Added Calendar link to Planning section with CalendarDays icon

### Calendar Features:
- Monthly calendar grid view with navigation (prev/next month, Today button)
- Color-coded status legend: Overdue (red), Due Today (accent), Upcoming (primary), Completed (green)
- Issue pills on calendar days showing due items with type icons
- Click on day to see detailed list of issues due that day
- Stats showing total items with due dates, overdue count, and upcoming count
- Empty state when no issues have due dates
- Supports clicking issues to open detail panel
- Shows assignee avatars and story points on issue cards

### New Tests Added (test-222, test-223, test-224):
- test-222: Calendar page displays monthly calendar grid with navigation
- test-223: Calendar page shows status legend and stats
- test-224: Calendar link appears in sidebar under Planning section

---

## Issue #18 - Red Theme Changes
Changed the entire color palette from forest green to red:
- Primary: #1B4332 (forest green) → #7B2332 (ruby red)
- Secondary: #52796F (sage) → #C25B6A (rose)
- Accent: #D4A373 (amber) → #E8A87C (coral)
- Background: #FAF9F6 → #FAF7F7 (warm red tint)
- Sidebar: #F5F3EF → #F5F0F0 (pink tint)
- Border: #E5E1DB → #E5DBDB (red tint)

### Files Modified for Red Theme:
- src/styles/globals.css - All CSS custom properties updated
- src/components/layout/Header.tsx - Header background and button colors
- src/components/common/IssueTypeIcon.tsx - Story color changed to rose
- src/components/common/PriorityIcon.tsx - Medium priority color changed
- src/pages/HomePage.tsx - Stats colors and CTA button
- src/pages/SprintReportPage.tsx - Chart and status colors
- src/pages/VelocityPage.tsx - Chart colors
- src/pages/BurndownPage.tsx - Chart colors
- src/pages/BacklogPage.tsx - Active badge and buttons
- src/pages/BoardPage.tsx - Empty state button
- src/pages/NotFoundPage.tsx - 404 illustration colors
- src/pages/NewProjectPage.tsx - Color palette for projects
- src/pages/ProjectSettingsPage.tsx - Color palette
- src/pages/LabelsPage.tsx - Default label colors
- src/pages/SprintsPage.tsx - Active sprint badge
- src/pages/ComponentsPage.tsx - Create button
- src/pages/ProjectsPage.tsx - Buttons
- src/pages/SettingsPage.tsx - Theme buttons
- src/components/modals/CreateSprintModal.tsx - Create button
- src/lib/db.ts - User color palette

## Build Status
- ✅ `npm run build` succeeds without errors or warnings
- ✅ Dev server runs on port 6174
- ✅ No console errors
- Bundle size: 1.32MB JS, 106KB CSS

## All Completed Features

### Core Infrastructure
- [x] Vite dev server on port 6174
- [x] Dexie.js database with all entities
- [x] React Router v7 with client-side routing
- [x] React Context for global state (AppContext)
- [x] MiniSearch for full-text search

### UI Components
- [x] Global header with Canopy logo, search (Ctrl+K), project selector, Create button
- [x] Collapsible sidebar with sections: Planning, Board, Reports, Project
- [x] Forest-inspired color palette with warm accents

### Project Management
- [x] Create/edit/archive projects
- [x] Project selector dropdown
- [x] Project key auto-generation
- [x] Project color customization

### Issue Management
- [x] Create issues with summary, description, type, priority, assignee, story points
- [x] Issue types: Story, Bug, Task, Epic, Sub-task
- [x] Priorities: Highest, High, Medium, Low, Lowest
- [x] Issue key auto-increment
- [x] Issue detail panel

### Kanban Board
- [x] Drag-and-drop using @dnd-kit
- [x] Default columns: To Do, In Progress, In Review, Done
- [x] Issue cards with type icon, key, summary, story points, assignee

### Backlog
- [x] List view of all issues
- [x] Sprint sections with drag-and-drop
- [x] Issue count and story point totals
- [x] Create Sprint button

### Sprint Management
- [x] Create sprints with name, goal, dates
- [x] Start/complete sprints
- [x] Active sprint filtering on board

### Roadmap
- [x] Timeline view with epics
- [x] Month view with date columns

### Reports
- [x] Burndown Chart page
- [x] Velocity Chart page with metrics
- [x] Sprint Report page

### Labels & Components
- [x] Labels management page
- [x] Components management page

### Search
- [x] Global search modal (Ctrl+K)
- [x] Search issues and projects

### Settings
- [x] Profile settings
- [x] Theme switching (Light/Dark/System)
- [x] Export/Import data
- [x] Danger zone

## Verified Working (E2E Tests)
All major features verified via Playwright E2E tests:
- Home page ✓
- Header navigation ✓
- Sidebar navigation ✓
- Create project form ✓
- Create issue modal ✓
- Board page ✓
- Backlog page ✓
- Roadmap page ✓
- Reports pages ✓
- Settings pages ✓
- Search modal ✓

## Key Files
- src/lib/db.ts - Dexie database schema
- src/context/AppContext.tsx - Global state
- src/pages/*.tsx - All page components
- src/components/board/* - Board components
- src/components/modals/* - Modal dialogs
- src/styles/globals.css - Theme variables

## Tests
- tests.json: 220 comprehensive tests
- e2e-tests/: Playwright test suite
- screenshots/issue-14/: Verification screenshots

## Final Commits
1. Initial implementation with all features
2. Fix CSS @import order and add E2E tests
3. Final CSS fix moving fonts to index.css
4. Issue #14 verification - Canopy MVP complete

## Latest Screenshot Verification (Issue #18 - Red Theme)
All pages verified with playwright-test.cjs showing NO_CONSOLE_ERRORS:
- test-001-*.png: Home page with RED design ✓
- test-002-*.png: Header with ruby red background, coral Create button ✓
- test-003-*.png: Sidebar with pink-tinted background ✓
- test-221-*.png: Red theme verification ✓
- homepage-red-theme-*.png: Full red theme application ✓

### Tests Updated for Red Theme:
- test-001: Updated color references from green to red
- test-002: Updated header color from #1B4332 to #7B2332, accent from #D4A373 to #E8A87C
- test-003: Updated sidebar background from #F5F3EF to #F5F0F0
- test-081: Updated Story icon color from green to rose
- test-082: Updated Medium priority color from green to rose
- test-083: Updated accent color reference to coral
- test-088: Updated button color from amber to coral
- test-089: Updated focus ring color from amber to coral
- test-211: Updated entire color palette description to red theme
- test-221: NEW - Red color theme verification test
